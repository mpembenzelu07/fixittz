<!DOCTYPE html>
<html lang="sw" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Pata nyumba bora Tanzania - Bedsitter, Chumba, Apartment Dar es Salaam, Arusha, Mwanza" />
  <meta name="theme-color" content="#0d9488" />
  <title>HouseLink - Nyumba Bora Tanzania</title>
  <link rel="manifest" href="data:application/manifest+json,{\"name\":\"HouseLink\",\"short_name\":\"HouseLink\",\"start_url\":\".\",\"display\":\"standalone\",\"background_color\":\"#0d9488\",\"theme_color\":\"#0d9488\",\"icons\":[{\"src\":\"https://via.placeholder.com/192/0d9488/ffffff?text=HL\",\"sizes\":\"192x192\",\"type\":\"image/png\"},{\"src\":\"https://via.placeholder.com/512/0d9488/ffffff?text=HL\",\"sizes\":\"512x512\",\"type\":\"image/png\"}]}">
  <link rel="icon" href="https://via.placeholder.com/64/0d9488/ffffff?text=HL" />
  <link rel="apple-touch-icon" href="https://via.placeholder.com/180/0d9488/ffffff?text=HL" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .gradient-bg { background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%); }
    .card-hover { transition: all 0.3s; }
    .card-hover:hover { transform: translateY(-10px); box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); }
    .toast { animation: slideIn 0.4s ease-out; }
    @keyframes slideIn { from { transform: translateY(100px); opacity: 0; } to { transform: translateY(0); opacity: 1; }}
    .skeleton { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; }
    @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; }}
    .image-gallery { scrollbar-width: thin; scrollbar-color: #0d9488 #f1f1f1; }
    .image-gallery::-webkit-scrollbar { height: 8px; }
    .image-gallery::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
    .image-gallery::-webkit-scrollbar-thumb { background: #0d9488; border-radius: 4px; }
  </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen">
  <div id="root"></div>

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/react-router-dom@5/umd/react-router-dom.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect, useContext, createContext } = React;
    const { HashRouter, Route, Switch, Link, useParams, useHistory } = ReactRouterDOM;

    // Simple configuration
    const CONFIG = {
      LOCATIONS: ["Sinza","Ubungo","Mbezi","Tegeta","Masaki","Upanga","Kariakoo","Kinondoni","Mwenge","Posta"],
      FILTER_TYPES: ["Bedsitter", "Single Room", "Apartment", "Studio", "Duplex", "House"],
      AMENITIES: ["water", "security", "parking", "daladala", "student", "wifi", "generator", "furnished"]
    };

    // Sample data
    const SAMPLE_LISTINGS = [
      {
        id: 1,
        title: "Bedsitter Sinza",
        location: "Sinza",
        price: 135000,
        type: "Bedsitter",
        images: ["https://images.unsplash.com/photo-1560184897-ae75f418493e?auto=format&fit=crop&w=800&q=80"],
        phone: "+255712345678",
        whatsapp: "+255712345678",
        description: "Bedsitter nzuri Sinza, maji 24/7, karibu na chuo kikuu",
        views: 312,
        featured: true,
        verified: true,
        water: true,
        security: true,
        createdAt: "2024-01-15T10:30:00Z"
      },
      {
        id: 2,
        title: "Chumba cha Kisasa Mbezi",
        location: "Mbezi",
        price: 98000,
        type: "Single Room",
        images: ["https://images.unsplash.com/photo-1598928506311-c55ded91a20c?auto=format&fit=crop&w=800&q=80"],
        phone: "+255765432109",
        whatsapp: "+255765432109",
        description: "Chumba kizuri Mbezi Beach, tiles zote, dirisha zuri",
        views: 267,
        featured: true,
        urgent: true,
        water: true,
        security: true,
        createdAt: "2024-01-10T14:20:00Z"
      }
    ];

    // Toast Context
    const ToastContext = createContext();
    
    const ToastProvider = ({ children }) => {
      const [toasts, setToasts] = useState([]);
      
      const push = (msg, opts = {}) => {
        const id = Date.now();
        setToasts(t => [...t, { id, msg, ...opts }]);
        setTimeout(() => setToasts(t => t.filter(x => x.id !== id)), 3000);
      };
      
      return (
        <ToastContext.Provider value={{ push }}>
          {children}
          <div className="fixed bottom-4 right-4 z-50 space-y-2">
            {toasts.map(t => (
              <div key={t.id} className="bg-teal-600 text-white p-4 rounded-lg shadow-lg">
                {t.msg}
              </div>
            ))}
          </div>
        </ToastContext.Provider>
      );
    };

    const useToast = () => {
      const context = useContext(ToastContext);
      if (!context) {
        return () => {};
      }
      return context.push;
    };

    // Main App Component
    const App = () => {
      const [listings, setListings] = useState(SAMPLE_LISTINGS);
      const [darkMode, setDarkMode] = useState(false);
      const [language, setLanguage] = useState('sw');
      const toast = useToast();
      
      // Translations
      const translations = {
        sw: {
          appName: "HouseLink",
          search: "Tafuta nyumba...",
          listings: "Orodha Zote",
          upload: "Weka Tangazo",
          favorites: "Vipendwa"
        },
        en: {
          appName: "HouseLink",
          search: "Search homes...",
          listings: "All Listings",
          upload: "Post Listing",
          favorites: "Favorites"
        }
      };
      
      const t = translations[language];
      
      // Toggle dark mode
      useEffect(() => {
        if (darkMode) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      }, [darkMode]);
      
      return (
        <div className="min-h-screen">
          {/* Navbar */}
          <nav className="gradient-bg text-white sticky top-0 z-50">
            <div className="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
              <Link to="/" className="text-2xl font-bold">
                <i className="fas fa-home mr-2"></i>
                HouseLink
              </Link>
              
              <div className="flex items-center gap-4">
                <Link to="/listings" className="hover:underline">{t.listings}</Link>
                <Link to="/upload" className="bg-white text-teal-600 px-4 py-2 rounded-full font-bold">
                  <i className="fas fa-plus mr-2"></i> {t.upload}
                </Link>
                <button onClick={() => setDarkMode(!darkMode)} className="p-2">
                  <i className={darkMode ? "fas fa-sun" : "fas fa-moon"}></i>
                </button>
                <button onClick={() => setLanguage(lang => lang === 'sw' ? 'en' : 'sw')} className="px-3 py-1 bg-white/10 rounded">
                  {language.toUpperCase()}
                </button>
              </div>
            </div>
          </nav>
          
          {/* Main Content */}
          <Switch>
            <Route exact path="/">
              <div className="text-center py-20">
                <h1 className="text-4xl font-bold mb-6">Karibu HouseLink</h1>
                <p className="text-xl mb-8">Pata nyumba bora Tanzania</p>
                <Link to="/listings" className="bg-teal-600 text-white px-8 py-3 rounded-full text-lg font-bold">
                  Anza Kutafuta <i className="fas fa-arrow-right ml-2"></i>
                </Link>
              </div>
            </Route>
            
            <Route exact path="/listings">
              <div className="max-w-7xl mx-auto p-4">
                <h1 className="text-3xl font-bold mb-6">{t.listings}</h1>
                
                {/* Search Bar */}
                <div className="mb-8">
                  <div className="relative">
                    <input
                      type="text"
                      placeholder={t.search}
                      className="w-full p-4 pl-12 border rounded-lg dark:bg-gray-800 dark:border-gray-700"
                    />
                    <i className="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                  </div>
                </div>
                
                {/* Listings Grid */}
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  {listings.map(listing => (
                    <div key={listing.id} className="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                      <div className="relative h-48">
                        <img 
                          src={listing.images[0]} 
                          alt={listing.title}
                          className="w-full h-full object-cover"
                        />
                        {listing.verified && (
                          <div className="absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs">
                            Verified
                          </div>
                        )}
                      </div>
                      
                      <div className="p-4">
                        <h3 className="font-bold text-lg">{listing.title}</h3>
                        <p className="text-gray-600 dark:text-gray-400 text-sm">
                          <i className="fas fa-map-marker-alt mr-1"></i> {listing.location}
                        </p>
                        
                        <div className="flex justify-between items-center mt-4">
                          <span className="text-xl font-bold text-orange-500">
                            {listing.price.toLocaleString()} TZS
                          </span>
                          <Link 
                            to={`/listing/${listing.id}`}
                            className="text-teal-600 hover:text-teal-700 font-bold"
                          >
                            Angalia <i className="fas fa-arrow-right ml-1"></i>
                          </Link>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </Route>
            
            <Route exact path="/listing/:id">
              {() => {
                const { id } = useParams();
                const listing = listings.find(l => l.id === parseInt(id));
                
                if (!listing) {
                  return (
                    <div className="text-center py-20">
                      <h1 className="text-2xl font-bold">Tangazo halipatikani</h1>
                      <Link to="/listings" className="text-teal-600 mt-4 inline-block">
                        Rudi kwenye orodha
                      </Link>
                    </div>
                  );
                }
                
                return (
                  <div className="max-w-4xl mx-auto p-4">
                    <div className="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                      <div className="relative h-64">
                        <img 
                          src={listing.images[0]} 
                          alt={listing.title}
                          className="w-full h-full object-cover"
                        />
                      </div>
                      
                      <div className="p-6">
                        <h1 className="text-3xl font-bold mb-2">{listing.title}</h1>
                        <div className="flex items-center text-gray-600 dark:text-gray-400 mb-4">
                          <i className="fas fa-map-marker-alt mr-2"></i>
                          {listing.location}
                        </div>
                        
                        <div className="text-4xl font-bold text-orange-500 mb-6">
                          {listing.price.toLocaleString()} TZS
                        </div>
                        
                        <p className="text-gray-700 dark:text-gray-300 mb-6">
                          {listing.description}
                        </p>
                        
                        <div className="flex gap-4">
                          <a 
                            href={`https://wa.me/${listing.whatsapp}`}
                            target="_blank"
                            className="flex-1 bg-green-600 text-white py-3 rounded-lg text-center font-bold"
                          >
                            <i className="fab fa-whatsapp mr-2"></i> WhatsApp
                          </a>
                          <a 
                            href={`tel:${listing.phone}`}
                            className="flex-1 bg-teal-600 text-white py-3 rounded-lg text-center font-bold"
                          >
                            <i className="fas fa-phone mr-2"></i> Simu
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                );
              }}
            </Route>
            
            <Route exact path="/upload">
              <div className="max-w-2xl mx-auto p-4">
                <h1 className="text-3xl font-bold mb-6">Weka Tangazo Jipya</h1>
                
                <div className="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                  <div className="space-y-4">
                    <div>
                      <label className="block mb-2 font-bold">Kichwa cha Tangazo</label>
                      <input 
                        type="text" 
                        className="w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600"
                        placeholder="Mf: Bedsitter nzuri Sinza"
                      />
                    </div>
                    
                    <div>
                      <label className="block mb-2 font-bold">Bei (TZS)</label>
                      <input 
                        type="number" 
                        className="w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600"
                        placeholder="135000"
                      />
                    </div>
                    
                    <div>
                      <label className="block mb-2 font-bold">Eneo</label>
                      <select className="w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600">
                        <option value="">Chagua eneo</option>
                        {CONFIG.LOCATIONS.map(loc => (
                          <option key={loc} value={loc}>{loc}</option>
                        ))}
                      </select>
                    </div>
                    
                    <button 
                      onClick={() => toast("Tangazo limewekwa kikamilifu!")}
                      className="w-full bg-teal-600 text-white py-3 rounded-lg font-bold text-lg"
                    >
                      Chapisha Tangazo
                    </button>
                  </div>
                </div>
              </div>
            </Route>
          </Switch>
          
          {/* Footer */}
          <footer className="bg-gray-800 text-white mt-20 p-8">
            <div className="max-w-7xl mx-auto text-center">
              <p className="text-lg font-bold mb-4">HouseLink Tanzania</p>
              <p className="text-gray-400">Â© 2024. Haki zote zimehifadhiwa.</p>
            </div>
          </footer>
          
          {/* Scroll to top */}
          <button 
            onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})}
            className="fixed bottom-8 right-8 bg-teal-600 text-white p-3 rounded-full shadow-lg"
          >
            <i className="fas fa-chevron-up"></i>
          </button>
        </div>
      );
    };

    // Root Component
    const Root = () => (
      <ToastProvider>
        <HashRouter>
          <App />
        </HashRouter>
      </ToastProvider>
    );

    // Render
    ReactDOM.render(<Root />, document.getElementById('root'));
  </script>
</body>
</html>
